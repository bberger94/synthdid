<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plots treated and synthetic control trajectories and overlays a 2x2 diff-in-diff diagram of our estimator.
In this overlay, the treatment effect is indicated by an arrow.
The weights lambda defining our synthetic pre-treatment time period are plotted below.
If a list of estimates is passed, plots all of them. By default, does this in different facets.
To overlay estimates in the same facet, indicate a facet for each estimator in the argument 'facet'. — synthdid_plot • synthdid</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plots treated and synthetic control trajectories and overlays a 2x2 diff-in-diff diagram of our estimator.
In this overlay, the treatment effect is indicated by an arrow.
The weights lambda defining our synthetic pre-treatment time period are plotted below.
If a list of estimates is passed, plots all of them. By default, does this in different facets.
To overlay estimates in the same facet, indicate a facet for each estimator in the argument 'facet'. — synthdid_plot" />
<meta property="og:description" content="For SC estimates, i.e., if lambda is a vector of zeros, plots the trajectories and SC estimate of the effect, but no diagram." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">synthdid</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/synthdid.html">Get started</a>
</li>
<li>
  <a href="../articles/more-plotting.html">More on Plotting</a>
</li>
<li>
  <a href="../articles/paper-results.html">Paper results</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/synth-inference/synthdid">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plots treated and synthetic control trajectories and overlays a 2x2 diff-in-diff diagram of our estimator.
In this overlay, the treatment effect is indicated by an arrow.
The weights lambda defining our synthetic pre-treatment time period are plotted below.
If a list of estimates is passed, plots all of them. By default, does this in different facets.
To overlay estimates in the same facet, indicate a facet for each estimator in the argument 'facet'.</h1>
    <small class="dont-index">Source: <a href='https://github.com/synth-inference/synthdid/blob/master/R/plot.R'><code>R/plot.R</code></a></small>
    <div class="hidden name"><code>synthdid_plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For SC estimates, i.e., if lambda is a vector of zeros, plots the trajectories and SC estimate of the effect, but no diagram.</p>
    </div>

    <pre class="usage"><span class='fu'>synthdid_plot</span>(
  <span class='no'>estimates</span>,
  <span class='kw'>treated.name</span> <span class='kw'>=</span> <span class='st'>"treated"</span>,
  <span class='kw'>control.name</span> <span class='kw'>=</span> <span class='st'>"synthetic control"</span>,
  <span class='kw'>spaghetti.units</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(),
  <span class='kw'>spaghetti.matrices</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>facet</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>facet.vertical</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>lambda.comparable</span> <span class='kw'>=</span> !<span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span>(<span class='no'>facet</span>),
  <span class='kw'>overlay</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>lambda.plot.scale</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>trajectory.linetype</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>effect.curvature</span> <span class='kw'>=</span> <span class='fl'>0.3</span>,
  <span class='kw'>line.width</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>guide.linetype</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>point.size</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>trajectory.alpha</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>diagram.alpha</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>effect.alpha</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>onset.alpha</span> <span class='kw'>=</span> <span class='fl'>0.3</span>,
  <span class='kw'>ci.alpha</span> <span class='kw'>=</span> <span class='fl'>0.3</span>,
  <span class='kw'>spaghetti.line.width</span> <span class='kw'>=</span> <span class='fl'>0.2</span>,
  <span class='kw'>spaghetti.label.size</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>spaghetti.line.alpha</span> <span class='kw'>=</span> <span class='fl'>0.3</span>,
  <span class='kw'>spaghetti.label.alpha</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>se.method</span> <span class='kw'>=</span> <span class='st'>"jackknife"</span>,
  <span class='kw'>alpha.multiplier</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>estimates, </th>
      <td><p>a list of estimates output by synthdid_estimate. Or a single estimate.</p></td>
    </tr>
    <tr>
      <th>treated.name, </th>
      <td><p>the name of the treated curve that appears in the legend. Defaults to 'treated'</p></td>
    </tr>
    <tr>
      <th>control.name, </th>
      <td><p>the name of the control curve that appears in the legend. Defaults to 'synthetic control'</p></td>
    </tr>
    <tr>
      <th>spaghetti.units, </th>
      <td><p>a list of units to plot individually. spaghetti.unit %in% rownames(Y) must work. Defaults to the empty list.</p></td>
    </tr>
    <tr>
      <th>spaghetti.matrices, </th>
      <td><p>a list of matrices --- one for each element of estimates --- of trajectories to plot individually.
The rows of these matrices should be the same length as the trajectories in Y
and they must be named --- set rownames(spaghetti.trajectories[[i]]) --- so trajectories can be labeled in the plot.</p></td>
    </tr>
    <tr>
      <th>facet, </th>
      <td><p>a list of the same length as estimates indicating the facet in which to plot each estimate.
The values of the elements of the list are used to label the facets.
If NULL, plot each estimate in a different facet. Defaults to NULL.</p></td>
    </tr>
    <tr>
      <th>facet.vertical, </th>
      <td><p>TRUE if facets should be stacked vertically. Defaults to FALSE (horizonal).</p></td>
    </tr>
    <tr>
      <th>lambda.comparable, </th>
      <td><p>TRUE if the weights lambda should be plotted in such a way that the ribbons
have the same mass from plot to plot, assuming the treated curve is the same. Useful for side-by-side or overlaid plots.
Defaults to FALSE if facet is not passed, TRUE if passed.</p></td>
    </tr>
    <tr>
      <th>overlay, </th>
      <td><p>a number in [0,1] defaulting to 0, can be used to shift the control trajectory toward the treated trajectory.
When a nonzero value is passed, we plot the control after subtracting
that fraction of the diff-in-diff style adjustment for the difference between lambda-weighted pre-treatment averages of the treated and control.
With intercept of almost one, this makes it easier to assess parallel-ness by making trajectories closer
With intercept of one, this essentially overlays the curves, and plotting a diagram is suppressed as in the case of a SC estimate.
To use different values for different plots, pass these values as an attribute 'overlay' of each estimate.
If a vector is passed, plots at different intercept levels indicated by the 'frame' aesthetic. ggplotly will interpret this as an animation.</p></td>
    </tr>
    <tr>
      <th>lambda.plot.scale</th>
      <td><p>determines the scale of the plot of the weights lambda.</p></td>
    </tr>
    <tr>
      <th>trajectory.linetype, </th>
      <td><p>the linetype of the treated and synthetic control trajectories</p></td>
    </tr>
    <tr>
      <th>effect.curvature, </th>
      <td><p>the curvature of the arrows indicating the treatment effect. Defaults to zero.
Nonzero values help avoid overplotting when plotting multiple estimates in one facet.</p></td>
    </tr>
    <tr>
      <th>line.width</th>
      <td><p>the line width.</p></td>
    </tr>
    <tr>
      <th>guide.linetype</th>
      <td><p>determines the (ggplot) linetype of the vertical segments of the parallelogram</p></td>
    </tr>
    <tr>
      <th>point.size</th>
      <td><p>determines the size of the points of the parallelogram</p></td>
    </tr>
    <tr>
      <th>trajectory.alpha</th>
      <td><p>determines transparency of trajectories</p></td>
    </tr>
    <tr>
      <th>diagram.alpha</th>
      <td><p>determines transparency of diff-in-diff diagram</p></td>
    </tr>
    <tr>
      <th>effect.alpha</th>
      <td><p>determines transparency of effect arrows</p></td>
    </tr>
    <tr>
      <th>onset.alpha</th>
      <td><p>determines transparency of vertical lines indicating onset of treatment</p></td>
    </tr>
    <tr>
      <th>ci.alpha</th>
      <td><p>determines transparency of the arrows illustrating upper and lower bounds of a 95% confidence interval for the effect</p></td>
    </tr>
    <tr>
      <th>spaghetti.line.width</th>
      <td><p>determines the width of spaghetti trajectories</p></td>
    </tr>
    <tr>
      <th>spaghetti.label.size</th>
      <td><p>determines the size of spaghetti labels</p></td>
    </tr>
    <tr>
      <th>spaghetti.line.alpha</th>
      <td><p>determines transparency of spaghetti trajectories</p></td>
    </tr>
    <tr>
      <th>spaghetti.label.alpha</th>
      <td><p>determines transparency of spaghetti trajectory labels</p></td>
    </tr>
    <tr>
      <th>se.method</th>
      <td><p>determines the method used to calculate the standard error used for this confidence interval. if 'none', don't show the interval</p></td>
    </tr>
    <tr>
      <th>alpha.multiplier, </th>
      <td><p>a vector of the same length as estimates, is useful for comparing multiple estimates in
one facet but highlighting one or several. All plot elements associated with the estimate are displayed
with alpha multiplied by the corresponding element of alpha.multiplier. Defaults to a vector of ones.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Requires ggplot2
Due to differences between ggplot and ggplotly, this will warn about an unknown aesthetic frame.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David A. Hirshberg.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


